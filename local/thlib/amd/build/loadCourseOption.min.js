define ("local_thlib/loadCourseOption",["jquery","local_thlib/ajaxcalls"],function(b){function a(){var c=0<arguments.length&&arguments[0]!==void 0?arguments[0]:!1;if(0==b(".myloader").length){var d=b("#fitem_id_courseidarr");d.before("<div class=\"myloader\"></div>")}else{b(".myloader").show()}var a=b(".mform").serializeArray().reduce(function(a,c){a[c.name]=c.value;var d="[name='"+c.name+"'] option:selected";a[c.name+"_text"]=b(d).text();return a},{}),e=a.makhoaid_text,f=a.malopid_text,g=a["time_from[day]"],h=a["time_from[month]"],i=a["time_from[year]"],j=a["time_to[day]"],k=a["time_to[month]"],l=a["time_to[year]"],m=a.userid_text,n=[],o=[];b("#fitem_id_makhoaid .form-autocomplete-selection > span[data-value]").each(function(a,c){n.push(b(c).attr("data-value"))});$select=b("#fitem_id_makhoaid select");if(c){$select.find("[selected]").each(function(a,c){$text=b(c).text();o.push($text)})}b.each(n,function(a,b){var c=$select.find("option[value=".concat(b,"]")).text();if(!o.includes(c)){o.push(c)}});var p=[],q=[];b("#fitem_id_malopid .form-autocomplete-selection > span[data-value]").each(function(a,c){p.push(b(c).attr("data-value"))});if(c){$select=b("#fitem_id_malopid select");$select.find("[selected]").each(function(a,c){$text=b(c).text();q.push($text)})}b.each(p,function(a,b){var c=$select.find("option[value=".concat(b,"]")).text();if(!p.includes(c)){q.push(c)}});var r=[];b("#fitem_id_userid .form-autocomplete-selection > span[data-value]").each(function(a,c){r.push(b(c).attr("data-value"))});$select=b("#fitem_id_userid select");if(c){$select.find("[selected]").each(function(a,c){$text=b(c).attr("value");if(!r.includes($text)){r.push($text)}})}if(!m||""==m)m=0;var s=require("local_thlib/ajaxcalls"),t=new s;t.loadcourses(o,q,r,null,null,c).then(function(){b(".myloader").hide()})}return{loadCourseOption:function loadCourseOption(){b(document).ready(function(){b("select.custom-select ").each(function(c,d){var d=b(d);if("id_courseidarr"==b(d).attr("id")){return}b(d).on("change",function(){b("#fitem_id_courseidarr .form-autocomplete-selection").html("<span class=\"mb-3 mr-1\">No Selection</span>");a()})});b("#fgroup_id_show_option input.form-check-input").on("change",function(){b("#fitem_id_courseidarr .form-autocomplete-selection").html("<span class=\"mb-3 mr-1\">No Selection</span>");a()});a(!0)})}}});
//# sourceMappingURL=loadCourseOption.min.js.map
