function _typeof(a){"@babel/helpers - typeof";if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){_typeof=function(a){return typeof a}}else{_typeof=function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a}}return _typeof(a)}(function(a){if("function"==typeof define&&define.amd){define ("local_thlib/buttons.print",["jquery","local_thlib/jquery.dataTables","local_thlib/dataTables.buttons"],function(b){return a(b,window,document)})}else if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))){module.exports=function(b,c){if(!b){b=window}if(!c||!c.fn.dataTable){c=require("datatables.net")(b,c).$}if(!c.fn.dataTable.Buttons){require("datatables.net-buttons")(b,c)}return a(c,b,b.document)}}else{a(jQuery,window,document)}})(function(a,b,c){'use strict';var d=a.fn.dataTable,e=c.createElement("a"),f=function(b){var c=a(b).clone()[0];if("link"===c.nodeName.toLowerCase()){c.href=g(c.href)}return c.outerHTML},g=function(a){e.href=a;var b=e.host;if(-1===b.indexOf("/")&&0!==e.pathname.indexOf("/")){b+="/"}return e.protocol+"//"+b+e.pathname+e.search};d.ext.buttons.print={className:"buttons-print",text:function text(a){return a.i18n("buttons.print","Print")},action:function action(c,d,e,h){var j=d.buttons.exportData(a.extend({decodeEntities:!1},h.exportOptions)),k=d.buttons.exportInfo(h),l=d.columns(h.exportOptions.columns).flatten().map(function(a){return d.settings()[0].aoColumns[d.column(a).index()].sClass}).toArray(),m=function(a,b){for(var c="<tr>",d=0,e=a.length;d<e;d++){var f=null===a[d]||a[d]===void 0?"":a[d],g=l[d]?"class=\""+l[d]+"\"":"";c+="<"+b+" "+g+">"+f+"</"+b+">"}return c+"</tr>"},n="<table class=\""+d.table().node().className+"\">";if(h.header){n+="<thead>"+m(j.header,"th")+"</thead>"}n+="<tbody>";for(var o=0,p=j.body.length;o<p;o++){n+=m(j.body[o],"td")}n+="</tbody>";if(h.footer&&j.footer){n+="<tfoot>"+m(j.footer,"th")+"</tfoot>"}n+="</table>";var q=b.open("","");if(!q){d.buttons.info(d.i18n("buttons.printErrorTitle","Unable to open print view"),d.i18n("buttons.printErrorMsg","Please allow popups in your browser for this site to be able to view the print view."),5e3);return}q.document.close();var r="<title>"+k.title+"</title>";a("style, link").each(function(){r+=f(this)});try{q.document.head.innerHTML=r}catch(b){a(q.document.head).html(r)}q.document.body.innerHTML="<h1>"+k.title+"</h1><div>"+(k.messageTop||"")+"</div>"+n+"<div>"+(k.messageBottom||"")+"</div>";a(q.document.body).addClass("dt-print-view");a("img",q.document.body).each(function(a,b){b.setAttribute("src",g(b.getAttribute("src")))});if(h.customize){h.customize(q,h,d)}var s=function(){if(h.autoPrint){q.print();q.close()}};if(navigator.userAgent.match(/Trident\/\d.\d/)){s()}else{q.setTimeout(s,1e3)}},title:"*",messageTop:"*",messageBottom:"*",exportOptions:{},header:!0,footer:!1,autoPrint:!0,customize:null};return d.Buttons});
//# sourceMappingURL=buttons.print.min.js.map
