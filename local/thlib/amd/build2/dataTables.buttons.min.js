function _typeof(a){"@babel/helpers - typeof";if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){_typeof=function(a){return typeof a}}else{_typeof=function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a}}return _typeof(a)}(function(a){if("function"==typeof define&&define.amd){define ("local_thlib/dataTables.buttons",["jquery","local_thlib/jquery.dataTables"],function(b){return a(b,window,document)})}else if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))){module.exports=function(b,c){if(!b){b=window}if(!c||!c.fn.dataTable){c=require("datatables.net")(b,c).$}return a(c,b,b.document)}}else{a(jQuery,window,document)}})(function(b,a,c){'use strict';var g=b.fn.dataTable,h=0,i=0,j=g.ext.buttons;function d(a,c,d){if(b.fn.animate){a.stop().fadeIn(c,d)}else{a.css("display","block");if(d){d.call(a)}}}function e(a,c,d){if(b.fn.animate){a.stop().fadeOut(c,d)}else{a.css("display","none");if(d){d.call(a)}}}var k=function(a,c){if(!(this instanceof k)){return function(b){return new k(b,a).container()}}if("undefined"==typeof c){c={}}if(!0===c){c={}}if(Array.isArray(c)){c={buttons:c}}this.c=b.extend(!0,{},k.defaults,c);if(c.buttons){this.c.buttons=c.buttons}this.s={dt:new g.Api(a),buttons:[],listenKeys:"",namespace:"dtb"+h++};this.dom={container:b("<"+this.c.dom.container.tag+"/>").addClass(this.c.dom.container.className)};this._constructor()};b.extend(k.prototype,{action:function action(a,b){var c=this._nodeToButton(a);if(b===void 0){return c.conf.action}c.conf.action=b;return this},active:function active(a,c){var d=this._nodeToButton(a),e=this.c.dom.button.active,f=b(d.node);if(c===void 0){return f.hasClass(e)}f.toggleClass(e,c===void 0?!0:c);return this},add:function add(a,b){var c=this.s.buttons;if("string"==typeof b){for(var d=b.split("-"),e=this.s,f=0,g=d.length-1;f<g;f++){e=e.buttons[1*d[f]]}c=e.buttons;b=1*d[d.length-1]}this._expandButton(c,a,a!==void 0?a.split:void 0,(a===void 0||a.split===void 0||0===a.split.length)&&e!==void 0,!1,b);this._draw();return this},collectionRebuild:function collectionRebuild(a,b){var c=this._nodeToButton(a);if(b!==void 0){var d;for(d=c.buttons.length-1;0<=d;d--){this.remove(c.buttons[d].node)}for(d=0;d<b.length;d++){this._expandButton(c.buttons,b[d],b[d]!==void 0&&b[d].config!==void 0&&b[d].config.split!==void 0,!0,b[d].parentConf!==void 0&&b[d].parentConf.split!==void 0,d,b[d].parentConf)}}this._draw(c.collection,c.buttons)},container:function container(){return this.dom.container},disable:function disable(a){var c=this._nodeToButton(a);b(c.node).addClass(this.c.dom.button.disabled).attr("disabled",!0);return this},destroy:function destroy(){b("body").off("keyup."+this.s.namespace);var a=this.s.buttons.slice(),c,d;for(c=0,d=a.length;c<d;c++){this.remove(a[c].node)}this.dom.container.remove();var e=this.s.dt.settings()[0];for(c=0,d=e.length;c<d;c++){if(e.inst===this){e.splice(c,1);break}}return this},enable:function enable(a,c){if(!1===c){return this.disable(a)}var d=this._nodeToButton(a);b(d.node).removeClass(this.c.dom.button.disabled).removeAttr("disabled");return this},name:function name(){return this.c.name},node:function node(a){if(!a){return this.dom.container}var c=this._nodeToButton(a);return b(c.node)},processing:function processing(a,c){var d=this.s.dt,e=this._nodeToButton(a);if(c===void 0){return b(e.node).hasClass("processing")}b(e.node).toggleClass("processing",c);b(d.table().node()).triggerHandler("buttons-processing.dt",[c,d.button(a),d,b(a),e.conf]);return this},remove:function remove(a){var c=this._nodeToButton(a),d=this._nodeToHost(a),e=this.s.dt;if(c.buttons.length){for(var f=c.buttons.length-1;0<=f;f--){this.remove(c.buttons[f].node)}}c.conf.destroying=!0;if(c.conf.destroy){c.conf.destroy.call(e.button(a),e,b(a),c.conf)}this._removeKey(c.conf);b(c.node).remove();var g=b.inArray(c,d);d.splice(g,1);return this},text:function(a,c){var d=this._nodeToButton(a),e=this.c.dom.collection.buttonLiner,f=d.inCollection&&e&&e.tag?e.tag:this.c.dom.buttonLiner.tag,g=this.s.dt,h=b(d.node),i=function(a){return"function"==typeof a?a(g,h,d.conf):a};if(c===void 0){return i(d.conf.text)}d.conf.text=c;if(f){h.children(f).filter(":not(.dt-down-arrow)").html(i(c))}else{h.html(i(c))}return this},_constructor:function _constructor(){var a=this,d=this.s.dt,f=d.settings()[0],g=this.c.buttons;if(!f._buttons){f._buttons=[]}f._buttons.push({inst:this,name:this.c.name});for(var h=0,e=g.length;h<e;h++){this.add(g[h])}d.on("destroy",function(b,c){if(c===f){a.destroy()}});b("body").on("keyup."+this.s.namespace,function(b){if(!c.activeElement||c.activeElement===c.body){var d=String.fromCharCode(b.keyCode).toLowerCase();if(-1!==a.s.listenKeys.toLowerCase().indexOf(d)){a._keypress(d,b)}}})},_addKey:function _addKey(a){if(a.key){this.s.listenKeys+=b.isPlainObject(a.key)?a.key.key:a.key}},_draw:function _draw(a,b){if(!a){a=this.dom.container;b=this.s.buttons}a.children().detach();for(var c=0,d=b.length;c<d;c++){a.append(b[c].inserter);a.append(" ");if(b[c].buttons&&b[c].buttons.length){this._draw(b[c].collection,b[c].buttons)}}},_expandButton:function _expandButton(a,c,d,e,f,g,h){var k=this.s.dt,l=0,m=!1,n=!Array.isArray(c)?[c]:c;if(c===void 0){n=!Array.isArray(d)?[d]:d}if(c!==void 0&&c.split!==void 0){m=!0}for(var o=0,p=n.length,q;o<p;o++){q=this._resolveExtends(n[o]);if(!q){continue}if(q.config!==void 0&&q.config.split){m=!0}else{m=!1}if(Array.isArray(q)){this._expandButton(a,q,r!==void 0&&r.conf!==void 0?r.conf.split:void 0,e,h!==void 0&&h.split!==void 0,g,h);continue}var r=this._buildButton(q,e,q.split!==void 0||q.config!==void 0&&q.config.split!==void 0,f);if(!r){continue}if(g!==void 0&&null!==g){a.splice(g,0,r);g++}else{a.push(r)}if(r.conf.buttons||r.conf.split){r.collection=b("<"+(m?this.c.dom.splitCollection.tag:this.c.dom.collection.tag)+"/>");r.conf._collection=r.collection;if(r.conf.split){for(var s=0;s<r.conf.split.length;s++){if("object"===_typeof(r.conf.split[s])){r.conf.split[o].parent=h;if(r.conf.split[s].collectionLayout===void 0){r.conf.split[s].collectionLayout=r.conf.collectionLayout}if(r.conf.split[s].dropup===void 0){r.conf.split[s].dropup=r.conf.dropup}if(r.conf.split[s].fade===void 0){r.conf.split[s].fade=r.conf.fade}}}}else{b(r.node).append(b("<span class=\"dt-down-arrow\">"+this.c.dom.splitDropdown.text+"</span>"))}this._expandButton(r.buttons,r.conf.buttons,r.conf.split,!m,m,g,r.conf)}r.conf.parent=h;if(q.init){q.init.call(k.button(r.node),k,b(r.node),q)}l++}},_buildButton:function _buildButton(a,c,d,e){var f=this.c.dom.button,g=this.c.dom.buttonLiner,h=this.c.dom.collection,k=this.c.dom.split,l=this.c.dom.splitCollection,m=this.c.dom.splitDropdownButton,n=this.s.dt,o=function(b){return"function"==typeof b?b(n,p,a):b};if(!d&&e&&l){f=m}else if(!d&&c&&h.button){f=h.button}if(!d&&e&&l.buttonLiner){g=l.buttonLiner}else if(!d&&c&&h.buttonLiner){g=h.buttonLiner}if(a.available&&!a.available(n,a)&&!a.hasOwnProperty("html")){return!1}var p;if(!a.hasOwnProperty("html")){var q=function(a,c,d,e){e.action.call(c.button(d),a,c,d,e);b(c.table().node()).triggerHandler("buttons-action.dt",[c.button(d),c,d,e])},r=a.tag||f.tag,s=a.clickBlurs===void 0?!1:a.clickBlurs;p=b("<"+r+"/>").addClass(f.className).addClass(e?this.c.dom.splitDropdownButton.className:"").attr("tabindex",this.s.dt.settings()[0].iTabIndex).attr("aria-controls",this.s.dt.table().node().id).on("click.dtb",function(b){b.preventDefault();if(!p.hasClass(f.disabled)&&a.action){q(b,n,p,a)}if(s){p.trigger("blur")}}).on("keyup.dtb",function(b){if(13===b.keyCode){if(!p.hasClass(f.disabled)&&a.action){q(b,n,p,a)}}});if("a"===r.toLowerCase()){p.attr("href","#")}if("button"===r.toLowerCase()){p.attr("type","button")}if(g.tag){var t=b("<"+g.tag+"/>").html(o(a.text)).addClass(g.className);if("a"===g.tag.toLowerCase()){t.attr("href","#")}p.append(t)}else{p.html(o(a.text))}if(!1===a.enabled){p.addClass(f.disabled)}if(a.className){p.addClass(a.className)}if(a.titleAttr){p.attr("title",o(a.titleAttr))}if(a.attr){p.attr(a.attr)}if(!a.namespace){a.namespace=".dt-button-"+i++}if(a.config!==void 0&&a.config.split){a.split=a.config.split}}else{p=b(a.html)}var u=this.c.dom.buttonContainer,v;if(u&&u.tag){v=b("<"+u.tag+"/>").addClass(u.className).append(p)}else{v=p}this._addKey(a);if(this.c.buttonCreated){v=this.c.buttonCreated(a,v)}var w;if(d){w=b("<div/>").addClass(this.c.dom.splitWrapper.className);w.append(p);var x=b.extend(a,{text:this.c.dom.splitDropdown.text,className:this.c.dom.splitDropdown.className,attr:{"aria-haspopup":!0,"aria-expanded":!1},align:this.c.dom.splitDropdown.align,splitAlignClass:this.c.dom.splitDropdown.splitAlignClass});this._addKey(x);var y=function(a,c,d,e){j.split.action.call(c.button(b("div.dt-btn-split-wrapper")[0]),a,c,d,e);b(c.table().node()).triggerHandler("buttons-action.dt",[c.button(d),c,d,e]);d.attr("aria-expanded",!0)},z=b("<button class=\""+this.c.dom.splitDropdown.className+" dt-button\"><span class=\"dt-btn-split-drop-arrow\">"+this.c.dom.splitDropdown.text+"</span></button>").on("click.dtb",function(a){a.preventDefault();a.stopPropagation();if(!z.hasClass(f.disabled)&&x.action){y(a,n,z,x)}if(s){z.trigger("blur")}}).on("keyup.dtb",function(a){if(13===a.keyCode){if(!z.hasClass(f.disabled)&&x.action){y(a,n,z,x)}}});if(0===a.split.length){z.addClass("dtb-hide-drop")}w.append(z).attr(x.attr)}return{conf:a,node:d?w.get(0):p.get(0),inserter:d?w:v,buttons:[],inCollection:c,isSplit:d,inSplit:e,collection:null}},_nodeToButton:function _nodeToButton(a,b){if(!b){b=this.s.buttons}for(var c=0,d=b.length;c<d;c++){if(b[c].node===a){return b[c]}if(b[c].buttons.length){var e=this._nodeToButton(a,b[c].buttons);if(e){return e}}}},_nodeToHost:function _nodeToHost(a,b){if(!b){b=this.s.buttons}for(var c=0,d=b.length;c<d;c++){if(b[c].node===a){return b}if(b[c].buttons.length){var e=this._nodeToHost(a,b[c].buttons);if(e){return e}}}},_keypress:function _keypress(a,c){if(c._buttonsHandled){return}var d=function(d,e){if(!d.key){return}if(d.key===a){c._buttonsHandled=!0;b(e).click()}else if(b.isPlainObject(d.key)){if(d.key.key!==a){return}if(d.key.shiftKey&&!c.shiftKey){return}if(d.key.altKey&&!c.altKey){return}if(d.key.ctrlKey&&!c.ctrlKey){return}if(d.key.metaKey&&!c.metaKey){return}c._buttonsHandled=!0;b(e).click()}},e=function(b){for(var a=0,c=b.length;a<c;a++){d(b[a].conf,b[a].node);if(b[a].buttons.length){e(b[a].buttons)}}};e(this.s.buttons)},_removeKey:function _removeKey(c){if(c.key){var d=b.isPlainObject(c.key)?c.key.key:c.key,e=this.s.listenKeys.split(""),a=b.inArray(d,e);e.splice(a,1);this.s.listenKeys=e.join("")}},_resolveExtends:function _resolveExtends(a){var c=this.s.dt,d,e,f=function(d){var e=0;while(!b.isPlainObject(d)&&!Array.isArray(d)){if(d===void 0){return}if("function"==typeof d){d=d(c,a);if(!d){return!1}}else if("string"==typeof d){if(!j[d]){return{html:d}}d=j[d]}e++;if(30<e){throw"Buttons: Too many iterations"}}return Array.isArray(d)?d:b.extend({},d)};a=f(a);while(a&&a.extend){if(!j[a.extend]){throw"Cannot extend unknown button type: "+a.extend}var g=f(j[a.extend]);if(Array.isArray(g)){return g}else if(!g){return!1}var h=g.className;if(a.config!==void 0&&g.config!==void 0){a.config=b.extend({},g.config,a.config)}a=b.extend({},g,a);if(h&&a.className!==h){a.className=h+" "+a.className}var k=a.postfixButtons;if(k){if(!a.buttons){a.buttons=[]}for(d=0,e=k.length;d<e;d++){a.buttons.push(k[d])}a.postfixButtons=null}var l=a.prefixButtons;if(l){if(!a.buttons){a.buttons=[]}for(d=0,e=l.length;d<e;d++){a.buttons.splice(d,0,l[d])}a.prefixButtons=null}a.extend=g.extend}return a},_popover:function _popover(f,g,h){var i=g,j=this.c,l=!1,m=b.extend({align:"button-left",autoClose:!1,background:!0,backgroundClassName:"dt-button-background",contentClassName:j.dom.collection.className,collectionLayout:"",collectionTitle:"",dropup:!1,fade:400,popoverTitle:"",rightAlignClassName:"dt-button-right",splitRightAlignClassName:"dt-button-split-right",splitLeftAlignClassName:"dt-button-split-left",tag:j.dom.collection.tag},h),n=g.node(),o=function(){l=!0;e(b(".dt-button-collection"),m.fade,function(){b(this).detach()});b(i.buttons("[aria-haspopup=\"true\"][aria-expanded=\"true\"]").nodes()).attr("aria-expanded","false");b("div.dt-button-background").off("click.dtb-collection");k.background(!1,m.backgroundClassName,m.fade,n);b("body").off(".dtb-collection");i.off("buttons-action.b-internal");i.off("destroy")};if(!1===f){o()}var p=b(i.buttons("[aria-haspopup=\"true\"][aria-expanded=\"true\"]").nodes());if(p.length){n=p.eq(0);o()}var q=b("<div/>").addClass("dt-button-collection").addClass(m.collectionLayout).addClass(m.splitAlignClass).css("display","none");f=b(f).addClass(m.contentClassName).attr("role","menu").appendTo(q);n.attr("aria-expanded","true");if(n.parents("body")[0]!==c.body){n=c.body.lastChild}if(m.popoverTitle){q.prepend("<div class=\"dt-button-collection-title\">"+m.popoverTitle+"</div>")}else if(m.collectionTitle){q.prepend("<div class=\"dt-button-collection-title\">"+m.collectionTitle+"</div>")}d(q.insertAfter(n),m.fade);var r=b(g.table().container()),s=q.css("position");if("dt-container"===m.align){n=n.parent();q.css("width",r.width())}if("absolute"===s){var t=n.position(),u=b(g.node()).position();q.css({top:b(b(g[0].node).parent()[0]).hasClass("dt-buttons")?u.top+n.outerHeight():t.top+n.outerHeight(),left:t.left});var v=q.outerHeight(),w=r.offset().top+r.height(),x=u.top+n.outerHeight()+v,y=u.top-v,z=r.offset().top,A=u.top-v-5;if((x-w>z-y||m.dropup)&&-A<z){q.css("top",A)}var B=r.offset().left,C=r.width(),D=B+C,E=q.offset().left,F=q.outerWidth();if(0===F){if(0<q.children().length){F=b(q.children()[0]).outerWidth()}}var G=E+F,H=n.offset().left,I=n.outerWidth(),J=H+I;if(q.hasClass(m.rightAlignClassName)||q.hasClass(m.leftAlignClassName)||q.hasClass(m.splitAlignClass)||"dt-container"===m.align){var K=H,L=I,M=J;if(n.hasClass("dt-btn-split-wrapper")&&0<n.children("button.dt-btn-split-drop").length){K=n.children("button.dt-btn-split-drop").offset().left;L=n.children("button.dt-btn-split-drop").outerWidth();M=K+L}var N=0;if(q.hasClass(m.rightAlignClassName)){N=J-G;if(B>E+N){var O=B-(E+N),P=D-(G+N);if(O>P){N+=P}else{N+=O}}}else if(q.hasClass(m.splitRightAlignClassName)){N=M-G;if(B>E+N){var O=B-(E+N),P=D-(G+N);if(O>P){N+=P}else{N+=O}}}else if(q.hasClass(m.splitLeftAlignClassName)){N=K-E;if(D<G+N||B>E+N){var O=B-(E+N),P=D-(G+N);if(O>P){N+=P}else{N+=O}}}else{N=B-E;if(D<G+N){var O=B-(E+N),P=D-(G+N);if(O>P){N+=P}else{N+=O}}}q.css("left",q.position().left+N)}else{var Q=n.offset().top,N=0;N="button-right"===m.align?J-G:H-E;q.css("left",q.position().left+N)}}else{var Q=q.height()/2;if(Q>b(a).height()/2){Q=b(a).height()/2}q.css("marginTop",-1*Q)}if(m.background){k.background(!0,m.backgroundClassName,m.fade,n)}b("div.dt-button-background").on("click.dtb-collection",function(){});if(m.autoClose){setTimeout(function(){i.on("buttons-action.b-internal",function(a,b,c,d){if(d[0]===n[0]){return}o()})},0)}b(q).trigger("buttons-popover.dt");i.on("destroy",o);setTimeout(function(){l=!1;b("body").on("click.dtb-collection",function(a){if(l){return}var c=b.fn.addBack?"addBack":"andSelf",d=b(a.target).parent()[0];if(!b(a.target).parents()[c]().filter(f).length&&!b(d).hasClass("dt-buttons")||b(a.target).hasClass("dt-button-background")){o()}}).on("keyup.dtb-collection",function(a){if(27===a.keyCode){o()}})},0)}});k.background=function(a,f,g,h){if(g===void 0){g=400}if(!h){h=c.body}if(a){d(b("<div/>").addClass(f).css("display","none").insertAfter(h),g)}else{e(b("div."+f),g,function(){b(this).removeClass(f).remove()})}};k.instanceSelector=function(a,c){if(a===void 0||null===a){return b.map(c,function(a){return a.inst})}var d=[],e=b.map(c,function(a){return a.name}),f=function(a){if(Array.isArray(a)){for(var g=0,h=a.length;g<h;g++){f(a[g])}return}if("string"==typeof a){if(-1!==a.indexOf(",")){f(a.split(","))}else{var j=b.inArray(a.trim(),e);if(-1!==j){d.push(c[j].inst)}}}else if("number"==typeof a){d.push(c[a].inst)}};f(a);return d};k.buttonSelector=function(a,c){for(var d=[],e=function(b,a,c){for(var d,f,g=0,h=a.length;g<h;g++){d=a[g];if(d){f=c!==void 0?c+g:g+"";b.push({node:d.node,name:d.conf.name,idx:f});if(d.buttons){e(b,d.buttons,f+"-")}}}},f=function(c,g){var h,j,k=[];e(k,g.s.buttons);var l=b.map(k,function(a){return a.node});if(Array.isArray(c)||c instanceof b){for(h=0,j=c.length;h<j;h++){f(c[h],g)}return}if(null===c||c===void 0||"*"===c){for(h=0,j=k.length;h<j;h++){d.push({inst:g,node:k[h].node})}}else if("number"==typeof c){d.push({inst:g,node:g.s.buttons[c].node})}else if("string"==typeof c){if(-1!==c.indexOf(",")){var m=c.split(",");for(h=0,j=m.length;h<j;h++){f(m[h].trim(),g)}}else if(c.match(/^\d+(\-\d+)*$/)){var a=b.map(k,function(a){return a.idx});d.push({inst:g,node:k[b.inArray(c,a)].node})}else if(-1!==c.indexOf(":name")){var n=c.replace(":name","");for(h=0,j=k.length;h<j;h++){if(k[h].name===n){d.push({inst:g,node:k[h].node})}}}else{b(l).filter(c).each(function(){d.push({inst:g,node:this})})}}else if("object"===_typeof(c)&&c.nodeName){var o=b.inArray(c,l);if(-1!==o){d.push({inst:g,node:l[o]})}}},g=0,h=a.length,j;g<h;g++){j=a[g];f(c,j)}return d};k.stripData=function(a,b){if("string"!=typeof a){return a}a=a.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"");a=a.replace(/<!\-\-.*?\-\->/g,"");if(!b||b.stripHtml){a=a.replace(/<[^>]*>/g,"")}if(!b||b.trim){a=a.replace(/^\s+|\s+$/g,"")}if(!b||b.stripNewlines){a=a.replace(/\n/g," ")}if(!b||b.decodeEntities){q.innerHTML=a;a=q.value}return a};k.defaults={buttons:["copy","excel","csv","pdf","print"],name:"main",tabIndex:0,dom:{container:{tag:"div",className:"dt-buttons"},collection:{tag:"div",className:""},button:{tag:"button",className:"dt-button",active:"active",disabled:"disabled"},buttonLiner:{tag:"span",className:""},split:{tag:"div",className:"dt-button-split"},splitWrapper:{tag:"div",className:"dt-btn-split-wrapper"},splitDropdown:{tag:"button",text:"&#x25BC;",className:"dt-btn-split-drop",align:"split-right",splitAlignClass:"dt-button-split-left"},splitDropdownButton:{tag:"button",className:"dt-btn-split-drop-button dt-button"},splitCollection:{tag:"div",className:"dt-button-split-collection"}}};k.version="2.0.1";b.extend(j,{collection:{text:function text(a){return a.i18n("buttons.collection","Collection")},className:"buttons-collection",init:function init(a,b){b.attr("aria-expanded",!1)},action:function action(a,b,c,d){if(d._collection.parents("body").length){this.popover(!1,d)}else{this.popover(d._collection,d)}},attr:{"aria-haspopup":!0}},split:{text:function text(a){return a.i18n("buttons.split","Split")},className:"buttons-split",init:function init(a,b){return b.attr("aria-expanded",!1)},action:function action(a,b,c,d){this.popover(d._collection,d)},attr:{"aria-haspopup":!0}},copy:function copy(){if(j.copyHtml5){return"copyHtml5"}},csv:function csv(a,b){if(j.csvHtml5&&j.csvHtml5.available(a,b)){return"csvHtml5"}},excel:function excel(a,b){if(j.excelHtml5&&j.excelHtml5.available(a,b)){return"excelHtml5"}},pdf:function pdf(a,b){if(j.pdfHtml5&&j.pdfHtml5.available(a,b)){return"pdfHtml5"}},pageLength:function pageLength(a){var c=a.settings()[0].aLengthMenu,d=[],e=[];if(Array.isArray(c[0])){d=c[0];e=c[1]}else{for(var f=0,g;f<c.length;f++){g=c[f];if(b.isPlainObject(g)){d.push(g.value);e.push(g.label)}else{d.push(g);e.push(g)}}}return{extend:"collection",text:function text(a){return a.i18n("buttons.pageLength",{"-1":"Show all rows",_:"Show %d rows"},a.page.len())},className:"buttons-page-length",autoClose:!0,buttons:b.map(d,function(a,b){return{text:e[b],className:"button-page-length",action:function action(b,c){c.page.len(a).draw()},init:function init(b,c,d){var e=this,f=function(){e.active(b.page.len()===a)};b.on("length.dt"+d.namespace,f);f()},destroy:function destroy(a,b,c){a.off("length.dt"+c.namespace)}}}),init:function init(a,b,c){var d=this;a.on("length.dt"+c.namespace,function(){d.text(c.text)})},destroy:function destroy(a,b,c){a.off("length.dt"+c.namespace)}}}});g.Api.register("buttons()",function(a,b){if(b===void 0){b=a;a=void 0}this.selector.buttonGroup=a;var c=this.iterator(!0,"table",function(c){if(c._buttons){return k.buttonSelector(k.instanceSelector(a,c._buttons),b)}},!0);c._groupSelector=a;return c});g.Api.register("button()",function(a,b){var c=this.buttons(a,b);if(1<c.length){c.splice(1,c.length)}return c});g.Api.registerPlural("buttons().active()","button().active()",function(a){if(a===void 0){return this.map(function(a){return a.inst.active(a.node)})}return this.each(function(b){b.inst.active(b.node,a)})});g.Api.registerPlural("buttons().action()","button().action()",function(a){if(a===void 0){return this.map(function(a){return a.inst.action(a.node)})}return this.each(function(b){b.inst.action(b.node,a)})});g.Api.registerPlural("buttons().collectionRebuild()","button().collectionRebuild()",function(a){return this.each(function(b){for(var c=0;c<a.length;c++){if("object"===_typeof(a[c])){a[c].parentConf=b}}b.inst.collectionRebuild(b.node,a)})});g.Api.register(["buttons().enable()","button().enable()"],function(a){return this.each(function(b){b.inst.enable(b.node,a)})});g.Api.register(["buttons().disable()","button().disable()"],function(){return this.each(function(a){a.inst.disable(a.node)})});g.Api.registerPlural("buttons().nodes()","button().node()",function(){var a=b();b(this.each(function(b){a=a.add(b.inst.node(b.node))}));return a});g.Api.registerPlural("buttons().processing()","button().processing()",function(a){if(a===void 0){return this.map(function(a){return a.inst.processing(a.node)})}return this.each(function(b){b.inst.processing(b.node,a)})});g.Api.registerPlural("buttons().text()","button().text()",function(a){if(a===void 0){return this.map(function(a){return a.inst.text(a.node)})}return this.each(function(b){b.inst.text(b.node,a)})});g.Api.registerPlural("buttons().trigger()","button().trigger()",function(){return this.each(function(a){a.inst.node(a.node).trigger("click")})});g.Api.register("button().popover()",function(a,b){return this.map(function(c){return c.inst._popover(a,this.button(this[0].node),b)})});g.Api.register("buttons().containers()",function(){var a=b(),c=this._groupSelector;this.iterator(!0,"table",function(b){if(b._buttons){for(var d=k.instanceSelector(c,b._buttons),e=0,f=d.length;e<f;e++){a=a.add(d[e].container())}}});return a});g.Api.register("buttons().container()",function(){return this.containers().eq(0)});g.Api.register("button().add()",function(a,b){var c=this.context;if(c.length){var d=k.instanceSelector(this._groupSelector,c[0]._buttons);if(d.length){d[0].add(b,a)}}return this.button(this._groupSelector,a)});g.Api.register("buttons().destroy()",function(){this.pluck("inst").unique().each(function(a){a.destroy()});return this});g.Api.registerPlural("buttons().remove()","buttons().remove()",function(){this.each(function(a){a.inst.remove(a.node)});return this});var l;g.Api.register("buttons.info()",function(a,c,f){var g=this;if(!1===a){this.off("destroy.btn-info");e(b("#datatables_buttons_info"),400,function(){b(this).remove()});clearTimeout(l);l=null;return this}if(l){clearTimeout(l)}if(b("#datatables_buttons_info").length){b("#datatables_buttons_info").remove()}a=a?"<h2>"+a+"</h2>":"";d(b("<div id=\"datatables_buttons_info\" class=\"dt-button-info\"/>").html(a).append(b("<div/>")["string"==typeof c?"html":"append"](c)).css("display","none").appendTo("body"));if(f!==void 0&&0!==f){l=setTimeout(function(){g.buttons.info(!1)},f)}this.on("destroy.btn-info",function(){g.buttons.info(!1)});return this});g.Api.register("buttons.exportData()",function(a){if(this.context.length){return r(new g.Api(this.context[0]),a)}});g.Api.register("buttons.exportInfo()",function(a){if(!a){a={}}return{filename:m(a),title:o(a),messageTop:p(this,a.message||a.messageTop,"top"),messageBottom:p(this,a.messageBottom,"bottom")}});var m=function(a){var c="*"===a.filename&&"*"!==a.title&&a.title!==void 0&&null!==a.title&&""!==a.title?a.title:a.filename;if("function"==typeof c){c=c()}if(c===void 0||null===c){return null}if(-1!==c.indexOf("*")){c=c.replace("*",b("head > title").text()).trim()}c=c.replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g,"");var d=n(a.extension);if(!d){d=""}return c+d},n=function(a){if(null===a||a===void 0){return null}else if("function"==typeof a){return a()}return a},o=function(a){var c=n(a.title);return null===c?null:-1!==c.indexOf("*")?c.replace("*",b("head > title").text()||"Exported data"):c},p=function(a,c,d){var e=n(c);if(null===e){return null}var f=b("caption",a.table().container()).eq(0);if("*"===e){var g=f.css("caption-side");if(g!==d){return null}return f.length?f.text():""}return e},q=b("<textarea/>")[0],r=function(a,c){var e=b.extend(!0,{},{rows:null,columns:"",modifier:{search:"applied",order:"applied"},orthogonal:"display",stripHtml:!0,stripNewlines:!0,decodeEntities:!0,trim:!0,format:{header:function(a){return k.stripData(a,e)},footer:function(a){return k.stripData(a,e)},body:function(a){return k.stripData(a,e)}},customizeData:null},c),f=a.columns(e.columns).indexes().map(function(b){var c=a.column(b).header();return e.format.header(c.innerHTML,b,c)}).toArray(),g=a.table().footer()?a.columns(e.columns).indexes().map(function(b){var c=a.column(b).footer();return e.format.footer(c?c.innerHTML:"",b,c)}).toArray():null,h=b.extend({},e.modifier);if(a.select&&"function"==typeof a.select.info&&h.selected===void 0){if(a.rows(e.rows,b.extend({selected:!0},h)).any()){b.extend(h,{selected:!0})}}for(var l=a.rows(e.rows,h).indexes().toArray(),m=a.cells(l,e.columns),n=m.render(e.orthogonal).toArray(),o=m.nodes().toArray(),p=f.length,q=0<p?n.length/p:0,r=[],s=0,t=0,d;t<q;t++){d=[p];for(var u=0;u<p;u++){d[u]=e.format.body(n[s],t,u,o[s]);s++}r[t]=d}var v={header:f,footer:g,body:r};if(e.customizeData){e.customizeData(v)}return v};b.fn.dataTable.Buttons=k;b.fn.DataTable.Buttons=k;b(c).on("init.dt plugin-init.dt",function(a,b){if("dt"!==a.namespace){return}var c=b.oInit.buttons||g.defaults.buttons;if(c&&!b._buttons){new k(b,c).container()}});function f(a,b){var c=new g.Api(a),d=b?b:c.init().buttons||g.defaults.buttons;return new k(c,d).container()}g.ext.feature.push({fnInit:f,cFeature:"B"});if(g.ext.features){g.ext.features.register("buttons",f)}return k});
//# sourceMappingURL=dataTables.buttons.min.js.map
